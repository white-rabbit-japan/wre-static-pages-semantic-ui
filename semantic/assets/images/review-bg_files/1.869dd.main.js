webpackJsonp([1],{1438:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={path:"404",getComponent:function(e,t){n.e(35).then(function(e){t(null,n(1767).default)}.bind(null,n)).catch(n.oe)}}},1439:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={path:"500",getComponent:function(e,t){n.e(34).then(function(e){t(null,n(1769).default)}.bind(null,n)).catch(n.oe)}}},1440:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={path:"about",getComponent:function(e,t){n.e(28).then(function(e){t(null,n(1774).default)}.bind(null,n)).catch(n.oe)}}},1441:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={path:"activity-map",getComponent:function(e,t){n.e(5).then(function(e){t(null,n(1777).default)}.bind(null,n)).catch(n.oe)}}},1442:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={path:"api-terms",getComponent:function(e,t){n.e(11).then(function(e){t(null,n(1782).default)}.bind(null,n)).catch(n.oe)}}},1443:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={path:"collections",getIndexRoute:function(e,t){n.e(17).then(function(e){t(null,n(1794).default)}.bind(null,n)).catch(n.oe)},getChildRoutes:function(e,t){n.e(39).then(function(e){t(null,[n(1784).default,n(1791).default,n(1783).default])}.bind(null,n)).catch(n.oe)}}},1446:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={path:"events",getComponent:function(e,t){n.e(33).then(function(e){t(null,n(1807).default)}.bind(null,n)).catch(n.oe)}}},1447:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={path:"explore",getComponent:function(e,t){n.e(26).then(function(e){t(null,n(1810).default)}.bind(null,n)).catch(n.oe)}}},1448:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={path:"following",getComponent:function(e,t){n.e(6).then(function(e){t(null,n(1817).default)}.bind(null,n)).catch(n.oe)}}},1449:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={path:"hiring",getComponent:function(e,t){n.e(27).then(function(e){t(null,n(1825).default)}.bind(null,n)).catch(n.oe)}}},1450:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={path:"history",getComponent:function(e,t){n.e(24).then(function(e){t(null,n(1834).default)}.bind(null,n)).catch(n.oe)}}},1452:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={path:"license",getComponent:function(e,t){n.e(7).then(function(e){t(null,n(1842).default)}.bind(null,n)).catch(n.oe)}}},1453:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={path:"login",getComponent:function(e,t){Promise.resolve().then(function(e){t(null,n(545).default)}.bind(null,n)).catch(n.oe)}}},1454:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={path:"manifesto",getComponent:function(e,t){n.e(10).then(function(e){t(null,n(1845).default)}.bind(null,n)).catch(n.oe)}}},1455:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={path:"mobile-search",getComponent:function(e,t){n.e(36).then(function(e){t(null,n(1849).default)}.bind(null,n)).catch(n.oe)}}},1456:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={path:"new",getComponent:function(e,t){n.e(16).then(function(e){t(null,n(1853).default)}.bind(null,n)).catch(n.oe)}}},1457:function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n(0),a=o(r);t.default={path:"photos/:id",getComponent:function(e,t){n.e(40).then(function(e){t(null,n(1855).default)}.bind(null,n)).catch(n.oe)},childRoutes:[{path:"*",name:"photos-info",component:function(){return a.default.createElement("div",null)}}],indexRoute:{component:function(){return a.default.createElement("div",null)}}}},1458:function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n(1874),a=o(r);t.default={path:"photos-new/:id",component:a.default}},1459:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={path:"privacy",getComponent:function(e,t){n.e(9).then(function(e){t(null,n(1877).default)}.bind(null,n)).catch(n.oe)}}},1460:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={path:"stats",getComponent:function(e,t){n.e(32).then(function(e){t(null,n(1880).default)}.bind(null,n)).catch(n.oe)}}},1461:function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n(23),a=o(r),i=n(2),u=n(193),l=function(e){return!e.startsWith(u.SEARCH_USERS_PATH)&&!e.startsWith(u.SEARCH_COLLECTIONS_PATH)&&!e.startsWith(u.SEARCH_PHOTOS_PATH)};t.default={path:"search",getComponent:function(e,t){n.e(22).then(function(e){t(null,n(1884).default)}.bind(null,n)).catch(n.oe)},getChildRoutes:function(e,t){n.e(38).then(function(e){t(null,[n(1893).default,n(1901).default,n(1897).default])}.bind(null,n)).catch(n.oe)},onEnter:function(e,t,n){var o=(0,a.default)(e,"params.query"),r=e.location.pathname;if(!o)return t({pathname:"/",state:{status:301}}),void n();l(r)&&t({pathname:(0,i.buildSearchUrl)(o),state:{status:301}}),n()}}},1462:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={path:"terms",getComponent:function(e,t){n.e(8).then(function(e){t(null,n(1904).default)}.bind(null,n)).catch(n.oe)}}},1463:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={path:"trends",getComponent:function(e,t){n.e(29).then(function(e){t(null,n(1907).default)}.bind(null,n)).catch(n.oe)}}},1464:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={path:"@:username",getComponent:function(e,t){n.e(25).then(function(e){t(null,n(1910).default)}.bind(null,n)).catch(n.oe)},getIndexRoute:function(e,t){n.e(12).then(function(e){t(null,n(1919).default)}.bind(null,n)).catch(n.oe)},getChildRoutes:function(e,t){n.e(37).then(function(e){t(null,[n(1916).default,n(1913).default,n(1928).default])}.bind(null,n)).catch(n.oe)}}},1465:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={path:"wallpaper",getIndexRoute:function(e,t){n.e(20).then(function(e){t(null,n(1932).default)}.bind(null,n)).catch(n.oe)},getChildRoutes:function(e,t){n.e(41).then(function(e){t(null,[n(1929).default])}.bind(null,n)).catch(n.oe)}}},1507:function(e,t,n){"use strict";function o(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.reportPhotoImpressions=void 0;var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),s=n(0),c=r(s),d=n(5),f=n(1643),p=r(f),h=n(2),m=n(12),v=o(m),_=.5;t.reportPhotoImpressions=function(e){var t={photo:s.PropTypes.object.isRequired,position:s.PropTypes.number.isRequired,reportPhotoImpression:s.PropTypes.func.isRequired},n=function(t){function n(){return a(this,n),i(this,(n.__proto__||Object.getPrototypeOf(n)).apply(this,arguments))}return u(n,t),l(n,[{key:"reportImpression",value:function(e){if(e){var t=this.props,n=t.photo,o=t.position;(0,t.reportPhotoImpression)({photo:{id:n.id,position:o}})}}},{key:"render",value:function(){var t=c.default.createElement(e,Object.assign({},this.props));return h.isBrowser&&(0,h.checkSupportsIntersectionObservers)()?c.default.createElement(p.default,{onChange:this.reportImpression.bind(this),threshold:_},t):t}}]),n}(s.Component);n.displayName="WrappedReportPhotoImpressionsComponent",n.propTypes=t;var o={reportPhotoImpression:v.reportPhotoImpression};return(0,d.connect)(null,o)(n)}},1513:function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n(1622);Object.defineProperty(t,"default",{enumerable:!0,get:function(){return o(r).default}})},1594:function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n(1626);Object.defineProperty(t,"default",{enumerable:!0,get:function(){return o(r).default}})},1607:function(e,t,n){"use strict";function o(e){var t=e.downloadButtonXp,n=e.inFollowingFeed;return[i.VARIANTS.showArrow,i.VARIANTS.showBottomBar].includes(t)&&!n}function r(e){var t=l.safeLocalStorageHelpers.hasItem(u.HAS_DOWNLOADED_A_PHOTO),n=e.downloadButtonXp===i.VARIANTS.showArrow;return o(e)&&n&&!t}function a(e){var t=e.downloadButtonXp,n=e.inFollowingFeed;return t===i.VARIANTS.showWord&&!n}Object.defineProperty(t,"__esModule",{value:!0}),t.ActionsModes=t.ActionsStates=void 0,t.checkShouldShowDownloadButton=o,t.checkShouldShowTooltip=r,t.checkShouldShowLabel=a;var i=n(500),u=n(192),l=n(2),s=t.ActionsStates=void 0;!function(e){e.All="All",e.AddToCollectionButton="AddToCollectionButton",e.AddToCollectionButtonAndPhotographerInfo="AddToCollectionButtonAndPhotographerInfo",e.DownloadButton="DownloadButton"}(s||(t.ActionsStates=s={}));var c=t.ActionsModes=void 0;!function(e){e.All="All",e.CollectionsOnboarding="CollectionsOnboarding"}(c||(t.ActionsModes=c={}))},1621:function(e,t,n){"use strict";function o(e){var t=r.safeLocalStorageHelpers.hasItem(a.HAS_DOWNLOADED_A_PHOTO);return e===i.VARIANTS.showBottomBar&&!t}Object.defineProperty(t,"__esModule",{value:!0}),t.TEST_ATTRIBUTE=void 0,t.checkShouldShowDownloadBottomBar=o;var r=n(2),a=n(192),i=n(500);t.TEST_ATTRIBUTE="photos-grid-view"},1622:function(e,t,n){"use strict";function o(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function l(){return{totalHeight:arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,photos:arguments.length>1&&void 0!==arguments[1]?arguments[1]:[]}}function s(e){var t=0,n=e[0];return e.forEach(function(e,o){e.totalHeight<n.totalHeight&&(t=o,n=e)}),t}function c(e){return Array.from({length:e}).map(function(){return l()})}Object.defineProperty(t,"__esModule",{value:!0}),t.Masonry=void 0;var d=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),f=n(0),p=r(f),h=n(5),m=n(3),v=r(m),_=n(12),y=o(_),g=n(67),b=n(95),P=n(500),w=n(2),O=n(1625),T=r(O),M=n(1621),E=n(1640),C=r(E),A={photos:f.PropTypes.array.isRequired,location:f.PropTypes.object.isRequired,smallPhotoProps:f.PropTypes.object,windowWidth:f.PropTypes.number,downloadButtonXp:f.PropTypes.oneOf(Object.keys(P.VARIANTS)).isRequired,showDownloadBottomBar:f.PropTypes.func.isRequired,hideDownloadBottomBar:f.PropTypes.func.isRequired,shouldUseContainerPadding:f.PropTypes.bool},I={shouldUseContainerPadding:!0},S=t.Masonry=function(e){function t(e){a(this,t);var n=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={gridCount:(0,w.isPhoneOrTablet)(e.windowWidth)?2:3},n.renderGrid=n.renderGrid.bind(n),n}return u(t,e),d(t,[{key:"componentDidMount",value:function(){var e=this.props,t=e.downloadButtonXp,n=e.showDownloadBottomBar;(0,M.checkShouldShowDownloadBottomBar)(t)&&n()}},{key:"componentWillUpdate",value:function(e){var t=this.props.windowWidth;e.windowWidth!==t&&((0,w.isPhoneOrTablet)(e.windowWidth)?this.setState({gridCount:2}):this.setState({gridCount:3}))}},{key:"componentWillUnmount",value:function(){this.props.hideDownloadBottomBar()}},{key:"getGridData",value:function(e){var t=this.props.photos,n=c(e);return t.forEach(function(e){var t=n[s(n)];e.height&&e.width&&(t.totalHeight+=e.height/e.width,t.photos.push(e))}),n.map(function(e){return e.photos})}},{key:"renderGrid",value:function(e,t){var n=this.props,o=n.location,r=n.photos,a=n.smallPhotoProps,i=this.state.gridCount;return p.default.createElement("div",{key:t,ref:"MasonryGrid"+t,className:(0,v.default)(C.default.Grid,3===i&&C.default.GridThree,2===i&&C.default.GridTwo,1===i&&C.default.GridOne)},e.map(function(e,t){var n=r.indexOf(e);return p.default.createElement(T.default,{smallPhotoProps:a,gridCount:i,photo:e,position:n,key:t,location:o})}))}},{key:"render",value:function(){var e=this.state.gridCount,t=this.props.shouldUseContainerPadding,n=this.getGridData(e).map(this.renderGrid);return p.default.createElement("div",{id:"gridMulti",className:(0,v.default)(C.default.container,t&&C.default.containerWithPadding),"data-test":M.TEST_ATTRIBUTE},n)}}]),t}(f.Component);S.displayName="Masonry",S.propTypes=A,S.defaultProps=I;var j=function(e){return{windowWidth:(0,g.getWindowWidth)(e),downloadButtonXp:(0,b.getDownloadButtonXp)(e)}},D={showDownloadBottomBar:y.showDownloadBottomBar,hideDownloadBottomBar:y.hideDownloadBottomBar};t.default=(0,h.connect)(j,D)(S)},1623:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.TEST_ATTRIBUTE="photo-component"},1624:function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n(0),a=o(r),i=n(5),u=n(53),l=n(496),s=n(37),c=n(1594),d=o(c),f=n(1507),p=n(1623),h=n(1641),m=o(h),v={location:r.PropTypes.object.isRequired,smallPhotoProps:r.PropTypes.object,contentWidth:r.PropTypes.number,pixelRatio:r.PropTypes.number.isRequired,photo:r.PropTypes.object.isRequired,gridCount:r.PropTypes.number.isRequired},_=function(e){var t=e.smallPhotoProps,n=e.gridCount,o=e.location,r=e.contentWidth,i=e.pixelRatio,u=e.photo,l=16,c=Math.ceil(r/n-2*l),f=(0,s.getImageSizeAndImgixUrl)({photo:u,isMasonry:!0,parentWidth:c,pixelRatio:i}),h=f.imageUrl,v=f.imageWidth,_=f.imageHeight;return a.default.createElement("div",{className:m.default.photoContainer,"data-test":p.TEST_ATTRIBUTE},a.default.createElement(d.default,Object.assign({fillWidth:!0,showPhotoInfoOnHover:!0,width:v,height:_,imageUrl:h,photo:u,location:o},t)))};_.displayName="MasonryPhoto",_.propTypes=v;var y=function(e){return{contentWidth:(0,l.getContentWidth)(e),pixelRatio:(0,u.getPixelRatio)(e)}};t.default=(0,f.reportPhotoImpressions)((0,i.connect)(y)(_))},1625:function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n(1624);Object.defineProperty(t,"default",{enumerable:!0,get:function(){return o(r).default}})},1626:function(e,t,n){"use strict";function o(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.SmallPhoto=void 0;var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),s=n(0),c=r(s),d=n(5),f=n(3),p=r(f),h=n(24),m=r(h),v=n(143),_=r(v),y=n(12),g=o(y),b=n(2),P=n(299),w=n(67),O=n(95),T=n(187),M=r(T),E=n(494),C=r(E),A=n(493),I=r(A),S=n(492),j=r(S),D=n(1642),k=r(D),N=n(1607),R={inFollowingFeed:!1,shouldIncludeLink:!0,actionsMode:N.ActionsModes.All},B=t.SmallPhoto=function(e){function t(e){a(this,t);var n=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.handleMouseMove=n.handleMouseMove.bind(n),n.handleMouseLeave=n.handleMouseLeave.bind(n),n.state={isHovering:!1},n}return u(t,e),l(t,[{key:"getActionsState",value:function(){var e=this.state.isHovering,t=this.props,n=t.actionsMode,o=t.jsLoaded,r=t.downloadButtonXp,a=t.inFollowingFeed,i=(0,N.checkShouldShowDownloadButton)({downloadButtonXp:r,inFollowingFeed:a});switch(n){case N.ActionsModes.CollectionsOnboarding:return e||!o?N.ActionsStates.AddToCollectionButtonAndPhotographerInfo:N.ActionsStates.AddToCollectionButton;case N.ActionsModes.All:return e||!o?N.ActionsStates.All:i&&!e?N.ActionsStates.DownloadButton:void 0}}},{key:"handleMouseMove",value:function(){this.setState({isHovering:!0})}},{key:"handleMouseLeave",value:function(){this.setState({isHovering:!1})}},{key:"renderPhotoInfo",value:function(){var e=this,t=this.props,n=t.photo,o=t.linkTo,r=t.setSelectedPhoto,a=t.windowWidth,i=t.location,u=t.showPhotoInfoOnHover,l=t.shouldIncludeLink,s=t.isNewPhotosPageXp,d=!(0,b.checkIsPhone)(a);return c.default.createElement("div",{className:(0,p.default)(k.default.photoInfo,void 0!==this.getActionsState()&&k.default.photoInfoIsShown),onMouseMove:d&&this.handleMouseMove,onMouseLeave:d&&this.handleMouseLeave},l&&c.default.createElement(m.default,{title:"View the photo by "+n.user.name,to:o||(0,b.buildPhotoLink)(n,i,a,{isNewPhotosPageXp:s}),className:k.default.photoInfoLink,onClick:function(){return r({id:n.id,ref:e.linkElem})}}),u&&this.renderActions())}},{key:"renderLikeButton",value:function(){var e=this.props,t=e.location,n=e.photo;return c.default.createElement(C.default,{type:"alt",location:t,photo:n})}},{key:"renderAddToCollectionButton",value:function(){var e=this.props,t=e.location,n=e.photo;return c.default.createElement("div",{className:k.default.addToCollectionButtonContainer},c.default.createElement(j.default,{className:k.default.collectionButton,type:"alt",photo:n,location:t}))}},{key:"renderDownloadButton",value:function(){var e=this.props,t=e.photo,n=e.downloadButtonXp,o=e.inFollowingFeed,r=(0,N.checkShouldShowTooltip)({downloadButtonXp:n,inFollowingFeed:o}),a=(0,N.checkShouldShowLabel)({downloadButtonXp:n,inFollowingFeed:o});return c.default.createElement("div",{className:k.default.buttonDownloadContainer},c.default.createElement(I.default,{type:"alt",photo:t,showLabel:a,showTooltip:r}))}},{key:"renderUserLink",value:function(){var e=this.props.photo.user;return c.default.createElement("div",{className:k.default.userContainer},c.default.createElement(M.default,{includeAvatar:!0,user:e,type:"alt"}))}},{key:"renderTopActions",value:function(){switch(this.getActionsState()){case N.ActionsStates.AddToCollectionButton:case N.ActionsStates.AddToCollectionButtonAndPhotographerInfo:return c.default.createElement("div",{className:k.default.actionsTop},this.renderAddToCollectionButton());case N.ActionsStates.All:return c.default.createElement("div",{className:k.default.actionsTop},this.renderLikeButton(),this.renderAddToCollectionButton());case N.ActionsStates.DownloadButton:case void 0:return}}},{key:"renderBottomActions",value:function(){switch(this.getActionsState()){case N.ActionsStates.All:return c.default.createElement("div",{className:k.default.actionsBottom},this.renderUserLink(),this.renderDownloadButton());case N.ActionsStates.AddToCollectionButtonAndPhotographerInfo:return c.default.createElement("div",{className:k.default.actionsBottom},this.renderUserLink());case N.ActionsStates.DownloadButton:return c.default.createElement("div",{className:k.default.actionsBottom},this.renderDownloadButton());case N.ActionsStates.AddToCollectionButton:case void 0:return}}},{key:"renderActions",value:function(){return void 0!==this.getActionsState()?c.default.createElement("div",null,this.renderTopActions(),this.renderBottomActions()):null}},{key:"renderImage",value:function(){var e=this,t=this.props,n=t.photo,o=t.width,r=t.height,a=t.imageUrl,i=t.fillWidth,u=t.children,l=t.followingFeedClassName,s=t.inFollowingFeed,d=t.photoRef,f={backgroundImage:(0,b.urlToBackgroundImage)(a),backgroundColor:n.color,backgroundSize:"cover",width:i?"100%":o,height:r};return c.default.createElement("div",{style:s?f:{},className:s&&(0,p.default)(k.default.photo,l),ref:function(t){(0,_.default)(d)&&d(t),e.linkElem=t}},!s&&c.default.createElement("img",{alt:n.description||null,src:a,className:k.default.imgPhoto,style:{width:i?"100%":o,height:r}}),u)}},{key:"render",value:function(){var e=this.props.containerClassName;return c.default.createElement("div",{className:(0,p.default)(k.default.container,e)},this.renderImage(),this.renderPhotoInfo())}}]),t}(s.Component);B.displayName="SmallPhoto",B.defaultProps=R;var L=function(e,t){return{jsLoaded:(0,P.getJsLoaded)(e),windowWidth:(0,w.getWindowWidth)(e),downloadButtonXp:(0,O.getDownloadButtonXp)(e),isNewPhotosPageXp:(0,O.getIsNewPhotosPageXp)(e)}},W={setSelectedPhoto:g.setSelectedPhoto};t.default=(0,d.connect)(L,W)(B)},1640:function(e,t){e.exports={floatLeft:"_3YIV2","--sm-min":"(--sm-min)",clearfix:"_1VOuf",container:"_3_WtK _1VOuf",containerWithPadding:"_1C-lZ",Grid:"_1OvAL _3YIV2",GridThree:"_27nWV",GridTwo:"_1eGVY",GridOne:"_3nHtz"}},1641:function(e,t){e.exports={photoContainer:"_1pn7R"}},1642:function(e,t){e.exports={floatLeft:"_3YIV2",floatRight:"tPMQE","--sm-min":"(--sm-min)",colorPink:"#f15151",colorLightGrey:"#ddd",hoverTransition:"_2tPAp",container:"_3vgBX",photo:"_1hz5D",imgPhoto:"KW7g_ _1hz5D",photoInfo:"bQJ8Z",photoInfoIsShown:"_2j4gG",photoInfoLink:"_23lr1",actionsTop:"_2yfpM",actionsBottom:"_1a5YS",userContainer:"CpQi5 _3YIV2",buttonDownloadContainer:"_3i-Ef tPMQE",addToCollectionButtonContainer:"_3W6mQ"}},1643:function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function r(e,t){var n={};for(var o in e)t.indexOf(o)>=0||Object.prototype.hasOwnProperty.call(e,o)&&(n[o]=e[o]);return n}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),s=n(0),c=(o(s),n(96)),d=o(c),f=n(1644),p=function(e){return"function"==typeof e},h=function(e){function t(){var e,n,o,r;a(this,t);for(var u=arguments.length,l=Array(u),s=0;s<u;s++)l[s]=arguments[s];return n=o=i(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(l))),o.state={inView:!1},o.node=null,o.handleNode=function(e){o.node&&(0,f.unobserve)(o.node),e&&(0,f.observe)(e,o.handleChange,o.props.threshold),o.node=e},o.handleChange=function(e){return o.setState({inView:e})},r=n,i(o,r)}return u(t,e),l(t,[{key:"componentWillUpdate",value:function(e,t){this.props.onChange&&t.inView!==this.state.inView&&(this.props.onChange(t.inView),t.inView&&e.unobserve)}},{key:"componentDidUpdate",value:function(e,t){t.inView!==this.state.inView&&this.state.inView&&this.props.triggerOnce&&((0,f.unobserve)(this.node),this.node=null)}},{key:"componentWillUnmount",value:function(){this.node&&((0,f.unobserve)(this.node),this.node=null)}},{key:"render",value:function(){var e=this.props,t=e.children,n=e.render,o=e.tag,a=(e.triggerOnce,e.threshold,r(e,["children","render","tag","triggerOnce","threshold"])),i=this.state.inView;return(0,s.createElement)(o,Object.assign({},a,{ref:this.handleNode}),i&&p(n)?n():null,p(t)?t(i):t)}}]),t}(s.Component);h.propTypes={tag:d.default.node,children:d.default.oneOfType([d.default.func,d.default.node]),triggerOnce:d.default.bool,threshold:d.default.number,onChange:d.default.func,render:d.default.func},h.defaultProps={tag:"div",threshold:0,triggerOnce:!1},t.default=h},1644:function(e,t,n){"use strict";function o(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;if(e&&t){var o=u.get(n);o||(o=new IntersectionObserver(a,{threshold:n}),u.set(n,o)),i.set(e,{callback:t,visible:!1,threshold:n}),o.observe(e)}}function r(e){if(e){var t=i.get(e);if(t){i.delete(e);var n=u.get(t.threshold);n&&n.unobserve(e);var o=!1;i.forEach(function(e){e.threshold===t.threshold&&(o=!0)}),n&&!o&&(n.disconnect(),u.delete(t.threshold))}}}function a(e){e.forEach(function(e){if(i.has(e.target)){var t=e.isIntersecting,n=e.intersectionRatio,o=e.target,r=i.get(o),a=r.callback,u=r.visible,l=r.threshold,s=u?n>l:n>=l;void 0!==t&&(s=s&&t),i.set(o,{callback:a,visible:s,threshold:l}),a&&a(s)}})}Object.defineProperty(t,"__esModule",{value:!0}),t.observe=o,t.unobserve=r;var i=new Map,u=new Map;t.default={observe:o,unobserve:r}},1647:function(e,t,n){"use strict";function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var r=t.RemoteDataTypes=void 0;!function(e){e.NotAsked="NotAsked",e.Loading="Loading",e.Failure="Failure",e.Success="Success"}(r||(t.RemoteDataTypes=r={}));t.NotAsked=function e(){o(this,e),this.type=r.NotAsked},t.Loading=function e(){o(this,e),this.type=r.Loading},t.Failure=function e(t){o(this,e),this.value=t,this.type=r.Failure},t.Success=function e(t){o(this,e),this.value=t,this.type=r.Success}},1650:function(e,t){e.exports={fontWeightNormal:"UDEGo",heading:"_3t64s UDEGo"}},1651:function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.mapPhotoIdsToPhotos=void 0;var r=n(0),a=o(r),i=n(5),u=n(300),l=function(e){return e.displayName||e.name||"Component"};t.mapPhotoIdsToPhotos=function(e){var t="MapPhotoIdsToPhotos("+l(e)+")",n=function(t){var n=t.photos;return a.default.createElement(e,Object.assign({},t,{photos:n}))};n.displayName=t;var o=function(){var e=(0,u.makeGetDenormalizedPhotoByIds)();return function(t,n){return{photos:e(t,n.photoIds)}}};return(0,i.connect)(o)(n)}},1856:function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n(0),a=o(r),i=n(139),u=o(i),l=n(3),s=o(l),c=n(546),d=n(94),f=n(1647),p=n(283),h=o(p),m=n(1858),v=o(m),_=n(1861),y=o(_),g=n(1871),b=o(g),P=n(2023),w=o(P),O=function(e){var t=e.location,n=e.photo,o=e.isModal,r=e.photoRemoteData,i=function(){var e=(0,c.buildPhotoHeadTags)(n),r=e.title,i=e.meta,l=e.canonicalUrl;return a.default.createElement("div",{className:w.default.wrapper},a.default.createElement(u.default,{title:r,meta:i,link:(0,d.buildLinks)(l)}),a.default.createElement("div",null,a.default.createElement("div",{className:(0,s.default)(o&&w.default.stickyHeaderContainer)},a.default.createElement(v.default,{photo:n,location:t})),a.default.createElement(y.default,{photo:n})),a.default.createElement("div",{className:w.default.container},a.default.createElement(b.default,{photo:n,location:t})))},l=function(){return a.default.createElement("div",{className:w.default.spinnerWrapper},a.default.createElement(h.default,{padContentBelow:!1}))};if(null!==n)return i();switch(r.type){case f.RemoteDataTypes.Success:return i();case f.RemoteDataTypes.Loading:return l();case f.RemoteDataTypes.NotAsked:case f.RemoteDataTypes.Failure:return null}};t.default=O},1857:function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n(0),a=o(r),i=n(3),u=o(i),l=n(187),s=o(l),c=n(494),d=o(c),f=n(492),p=o(f),h=n(493),m=o(h),v=n(2024),_=o(v),y=function(e){var t=e.className,n=e.location,o=e.photo;return a.default.createElement("header",{className:(0,u.default)(t,_.default.container)},a.default.createElement("div",{className:_.default.photographer},a.default.createElement(s.default,{includeAvatar:!0,user:o.user,secondaryLink:{label:"@"+o.user.username,href:o.user.links.html},type:"emphasiseUsername"})),a.default.createElement("div",{className:_.default.actions},a.default.createElement("div",{className:_.default.cell},a.default.createElement(d.default,{photo:o,location:n})),a.default.createElement("div",{className:_.default.cell},a.default.createElement(p.default,{photo:o,location:n})),a.default.createElement("div",{className:_.default.cell},a.default.createElement(m.default,{photo:o,showLabel:!0,showTooltip:!1,type:"green",label:"Download free",className:_.default.downloadButton}))))};t.default=y},1858:function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n(1857);Object.defineProperty(t,"default",{enumerable:!0,get:function(){return o(r).default}})},1859:function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function r(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.getImgSizesString=t.getMinAndMaxWidthsLengths=t.getImgSrcSetString=t.serializeSrcSet=t.getPaddingConstants=t.ratioToPercentage=void 0;var a=n(2049),i=o(a),u=n(2050),l=o(u),s=n(2),c=n(122),d=function(e){return e+"px"},f=(t.ratioToPercentage=function(e){return 100*e+"%"},function(e){return"calc("+e+")"}),p=t.getPaddingConstants=function(){var e=40,t=d(e),n=150,o=2*e+n,r=40;return{TOTAL_HORIZONTAL_PADDING:2*r,TOTAL_VERTICAL_PADDING:o,HORIZONTAL_PADDING_LENGTH:d(r),VERTICAL_PADDING_LENGTH:t}},h="100vw",m=function(){var e=p(),t=e.TOTAL_HORIZONTAL_PADDING,n=e.TOTAL_VERTICAL_PADDING;return{IMAGE_WIDTH_CONSTRAINED_TO_VIEWPORT_WIDTH_LENGTH:f(h+" - "+d(t)),IMAGE_HEIGHT_CONSTRAINED_TO_VIEWPORT_HEIGHT_LENGTH:f("100vh - "+d(n))}},v=300,_=d(v),y=p(),g=y.TOTAL_HORIZONTAL_PADDING,b=y.TOTAL_VERTICAL_PADDING,P=m(),w=P.IMAGE_WIDTH_CONSTRAINED_TO_VIEWPORT_WIDTH_LENGTH,O=P.IMAGE_HEIGHT_CONSTRAINED_TO_VIEWPORT_HEIGHT_LENGTH,T=300,M=function(e){var t=e.baseUrl;return function(e){return{width:e,url:(0,s.buildImgixUrl)({url:t,width:String(e)})}}},E=t.serializeSrcSet=function(e){return e.map(function(e){var t=e.width;return[e.url,(0,c.mapMaybe)(function(e){return e+"w"},t)].filter(c.isMaybeDefined).join(" ")}).join(", ")},C=function(e){return e.map(function(e){return(0,c.catMaybes)([e.mediaCondition,e.width]).join(" ")}).join(", ")},A=function(e){var t=e.photoDimensions,n=t.width,o=t.height,a=n/o,u=function(e){return Math.ceil(e*a)},s=u(v),c=u(o),d=(0,i.default)(s,c,T),f=d.map(function(e){return 2*e});return(0,l.default)([].concat(r(d),r(f)))},I=(t.getImgSrcSetString=function(e){var t=e.photoDimensions,n=e.baseUrl,o=A({photoDimensions:t}),r=o.map(M({baseUrl:n}));return E(r)},t.getMinAndMaxWidthsLengths=function(e){var t=e.photoDimensions,n=t.width,o=t.height,r=n/o,a=function(e){return f("("+e+") * "+r)};return{minWidthLength:a(_),maxWidthLength:a(O)}}),S=function(e){var t=e.photoDimensions,n=t.width,o=t.height,r=n/o,a=function(e){return Math.ceil(e*r)},i=a(v);return{isMinSizeMediaConditions:["(max-width: "+d(i+g)+")","(max-height: "+d(v+b)+")"],isConstrainedByViewportHeightMediaCondition:"(min-aspect-ratio: "+n+"/"+o+")"}};t.getImgSizesString=function(e){var t=e.photoDimensions,n=e.isCollapsed,o=I({photoDimensions:t}),a=o.minWidthLength,i=o.maxWidthLength,u=S({photoDimensions:t}),l=u.isMinSizeMediaConditions,s=u.isConstrainedByViewportHeightMediaCondition,c=n?[].concat(r(l.map(function(e){return{mediaCondition:e,width:a}})),[{mediaCondition:s,width:i},{width:w}]):[{width:h}];return C(c)}},1860:function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),l=n(0),s=o(l),c=n(3),d=o(c),f=n(529),p=o(f),h=n(1859),m=n(2025),v=o(m),_=function(e){function t(e){r(this,t);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state=n.getInitialState(),n.toggleCollapsed=n.toggleCollapsed.bind(n),n}return i(t,e),u(t,[{key:"getInitialState",value:function(){return{isCollapsed:!0}}},{key:"componentWillReceiveProps",value:function(e){var t=this.props.photo;e.photo.id!==t.id&&this.setState(this.getInitialState)}},{key:"toggleCollapsed",value:function(){this.setState(function(e){return{isCollapsed:!e.isCollapsed}})}},{key:"render",value:function(){var e=this.props.photo,t=this.state.isCollapsed,n=e.urls.raw,o=(0,h.getPaddingConstants)(),r=o.HORIZONTAL_PADDING_LENGTH,a=o.VERTICAL_PADDING_LENGTH,i=e.width,u=e.height,l={width:i,height:u},c=u/i,f=(0,h.ratioToPercentage)(c),m=(0,h.getMinAndMaxWidthsLengths)({photoDimensions:l}),_=m.minWidthLength,y=m.maxWidthLength,g=(0,h.getImgSizesString)({isCollapsed:t,photoDimensions:l}),b=(0,h.getImgSrcSetString)({photoDimensions:l,baseUrl:n});return s.default.createElement("div",{className:(0,d.default)(v.default.imageContainer,t&&v.default.imageContainerCollapsed),style:t?{padding:a+" "+r,minWidth:_,maxWidth:y}:{}},s.default.createElement(p.default,{className:v.default.imagePlaceholder,style:{paddingBottom:f},imgProps:{key:e.id,className:t?v.default.imageCollapsed:v.default.imageExpanded,onClick:this.toggleCollapsed,sizes:g,srcSet:b}}))}}]),t}(l.PureComponent);t.default=_},1861:function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n(1860);Object.defineProperty(t,"default",{enumerable:!0,get:function(){return o(r).default}})},1862:function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n(0),a=o(r),i=n(122),u=n(1650),l=o(u),s=n(1868),c=o(s),d=n(1864),f=o(d),p=n(1870),h=o(p),m=function(e){var t=e.photo,n=e.location,o=t.related_collections;return a.default.createElement("div",{className:l.default.container},a.default.createElement(c.default,{photoId:t.id,location:n}),(0,i.mapMaybe)(function(e){return a.default.createElement(f.default,{relatedCollections:e})},o),a.default.createElement(h.default,{allTags:t.tags}))};t.default=m},1863:function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n(0),a=o(r),i=n(489),u=o(i),l=n(1650),s=o(l),c=function(e){var t=e.relatedCollections;return 0===t.results.length?null:a.default.createElement("div",null,a.default.createElement("p",{className:s.default.heading},"Featured in "+t.total+" collections"),a.default.createElement("div",{className:s.default.cell},t.results.map(function(e,t){return a.default.createElement(u.default,{key:t,collection:e,columns:3})})))};c.displayName="RelatedCollections",t.default=c},1864:function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n(1863);Object.defineProperty(t,"default",{enumerable:!0,get:function(){return o(r).default}})},1865:function(e,t,n){"use strict";function o(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),s=n(0),c=r(s),d=n(5),f=n(1647),p=n(26),h=r(p),m=n(12),v=o(m),_=n(66),y=n(1867),g=r(y),b=function(e){return h.default.custom.getRelatedPhotos(e).then(p.toJson).then(p.throwErrorsIfPresent)},P=(0,_.normalizeResponse)("searchPhotos"),w=function(e){function t(){a(this,t);var e=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.state=e.getInitialState(),e.updatePhotoIds=e.updatePhotoIds.bind(e),e}return u(t,e),l(t,[{key:"getInitialState",value:function(){return{photoIds:new f.NotAsked}}},{key:"componentDidMount",value:function(){this.fetchThenCacheAndSet()}},{key:"componentDidUpdate",value:function(e){this.props.photoId!==e.photoId&&(this.reset(),this.fetchThenCacheAndSet())}},{key:"updatePhotoIds",value:function(e){this.setState({photoIds:e})}},{key:"reset",value:function(){this.setState(this.getInitialState())}},{key:"fetchThenCacheAndSet",value:function(){var e=this.props,t=e.updateData,n=e.photoId;this.updatePhotoIds(new f.Loading),b(n).then(function(e){var n=P(e);return t(n.entities),new f.Success(e.results.map(function(e){return e.id}))},function(e){return new f.Failure(e)}).then(this.updatePhotoIds)}},{key:"render",value:function(){var e=this.props.location,t=this.state.photoIds;return c.default.createElement(g.default,{photoIds:t,location:e})}}]),t}(s.PureComponent),O={updateData:v.updateData};t.default=(0,d.connect)(null,O)(w)},1866:function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n(0),a=o(r),i=n(1647),u=n(1651),l=n(1513),s=o(l),c=n(283),d=o(c),f=n(1650),p=o(f),h=(0,u.mapPhotoIdsToPhotos)(s.default),m=function(e){var t=e.photoIds,n=e.location,o=function(e){var t=e.bodyPhotoIds;return a.default.createElement("div",null,a.default.createElement("h2",{className:p.default.heading},"Related photos"),a.default.createElement("div",{className:p.default.cell},function(){switch(t.type){case i.RemoteDataTypes.Success:return a.default.createElement(h,{photoIds:t.value,location:n,shouldUseContainerPadding:!1});case i.RemoteDataTypes.Loading:return a.default.createElement(d.default,{padContentBelow:!1})}}()))};switch(t.type){case i.RemoteDataTypes.Loading:return o({bodyPhotoIds:t});case i.RemoteDataTypes.Success:return 0===t.value.length?null:o({bodyPhotoIds:t});case i.RemoteDataTypes.Failure:case i.RemoteDataTypes.NotAsked:return null}};t.default=m},1867:function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n(1866);Object.defineProperty(t,"default",{enumerable:!0,get:function(){return o(r).default}})},1868:function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n(1865);Object.defineProperty(t,"default",{enumerable:!0,get:function(){return o(r).default}})},1869:function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.RelatedSearches=void 0;var r=n(0),a=o(r),i=n(502),u=o(i),l=n(292),s=o(l),c=n(1650),d=o(c),f=n(2026),p=o(f),h=t.RelatedSearches=function(e){var t=e.allTags,n=(0,u.default)(t,4);return n.length<4?null:a.default.createElement("div",null,a.default.createElement("p",{className:d.default.heading},"Related tags"),a.default.createElement("div",{className:d.default.cell},a.default.createElement("div",{className:p.default.tagsContainer},n.map(function(e){return a.default.createElement(s.default,{key:e.title,title:e.title,backgroundImage:e.url})}))))};h.displayName="RelatedSearches",t.default=h},1870:function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n(1869);Object.defineProperty(t,"default",{enumerable:!0,get:function(){return o(r).default}})},1871:function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n(1862);Object.defineProperty(t,"default",{enumerable:!0,get:function(){return o(r).default}})},1872:function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n(1856);Object.defineProperty(t,"default",{enumerable:!0,get:function(){return o(r).default}})},1873:function(e,t,n){"use strict";function o(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),s=n(0),c=r(s),d=n(5),f=n(12),p=o(f),h=n(26),m=r(h),v=n(66),_=n(491),y=n(300),g=n(1647),b=n(1872),P=r(b),w=(0,v.normalizeResponse)("photo"),O=function(e){function t(){a(this,t);var e=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.state=e.getInitialState(),e.updatePhoto=e.updatePhoto.bind(e),e}return u(t,e),l(t,[{key:"getInitialState",value:function(){return{photoRemoteData:new g.NotAsked}}},{key:"componentDidMount",value:function(){this.fetchThenCache()}},{key:"componentDidUpdate",value:function(e){this.props.params.id!==e.params.id&&(this.reset(),this.fetchThenCache())}},{key:"updatePhoto",value:function(e){this.setState({photoRemoteData:e})}},{key:"reset",value:function(){this.setState(this.getInitialState())}},{key:"fetchThenCache",value:function(){var e=this.props,t=e.params,n=e.updateData,o=t.id,r=this.context.router.replace;this.updatePhoto(new g.Loading),m.default.custom.getPhotoWithInfo(o).then(h.toJson).then(h.throwErrorsIfPresent).then(function(e){var t=w(e),o=t.entities;return n(o),new g.Success({})}).then(this.updatePhoto).catch((0,_.handleClientSideError)(r))}},{key:"render",value:function(){var e=this.props,t=e.photo,n=e.isModal,o=e.location,r=this.state.photoRemoteData;return c.default.createElement(P.default,{photo:t,isModal:n,location:o,photoRemoteData:r})}}]),t}(s.PureComponent);O.contextTypes={router:s.PropTypes.object.isRequired};var T=function(){var e=(0,y.makeGetDenormalizedPhotoById)();return function(t,n){return{photo:e(t,n.params.id)}}},M={updateData:p.updateData};t.default=(0,d.connect)(T,M)(O)},1874:function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n(1873);Object.defineProperty(t,"default",{enumerable:!0,get:function(){return o(r).default}})},2023:function(e,t){e.exports={container:"A5mOq _22ZDn dvlCB",wrapper:"_2wane",stickyHeaderContainer:"_227t_",spinnerWrapper:"_1PLm2"}},2024:function(e,t){e.exports={container:"_2Z_E4",actions:"HNpSs",cell:"_2OJWi",photographer:"_1Ghef _2OJWi",downloadButton:"_3YlPI"}},2025:function(e,t){e.exports={center:"_1qEFh",imagePlaceholder:"_27h0s",imageContainer:"_1vO10 _1qEFh",imageContainerCollapsed:"_3vMrm",imageExpanded:"_1oEWv",imageCollapsed:"_1FvHu"}},2026:function(e,t){e.exports={clearfix:"_1iK9o",mxn2:"_3vG8-",tagsContainer:"_3uaZa _1iK9o _3vG8-"}},2043:function(e,t){function n(e,t,n,a){for(var i=-1,u=r(o((t-e)/(n||1)),0),l=Array(u);u--;)l[a?u:++i]=e,e+=n;return l}var o=Math.ceil,r=Math.max;e.exports=n},2045:function(e,t,n){function o(e){return function(t,n,o){return o&&"number"!=typeof o&&a(t,n,o)&&(n=o=void 0),t=i(t),t=t===t?t:0,void 0===n?(n=t,t=0):n=i(n)||0,o=void 0===o?t<n?1:-1:i(o)||0,r(t,n,o,e)}}var r=n(2043),a=n(513),i=n(315);e.exports=o},2049:function(e,t,n){var o=n(2045),r=o();e.exports=r},2050:function(e,t,n){var o=n(201),r=n(558),a=n(513),i=n(146),u=i(function(e,t){if(null==e)return[];var n=t.length;return n>1&&a(e,t[0],t[1])?t=[]:n>2&&a(t[0],t[1],t[2])&&(t.length=1),r(e,o(t,1),[])});e.exports=u}});
//# sourceMappingURL=1.869dd.main.js.map